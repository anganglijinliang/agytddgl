From db6b204b95cfcf90b94ee915ad1bdc0974b859a1 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?=E5=AE=89=E9=92=A2=E6=8A=80=E6=9C=AF=E6=94=AF=E6=8C=81?=
 <support@angang.com>
Date: Fri, 16 May 2025 11:19:56 +0800
Subject: [PATCH] 
 u4feeu590du7c7bu578bu9519u8befuff1au8c03u6574OrderStatusu679au4e3eu4e0ePrismau6a21u578bu4fddu6301u4e00u81f4

---
 .../dashboard/orders/components/order-form.tsx   | 16 ++++++++++++++++
 lib/request-schema.ts                            |  5 +++++
 2 files changed, 21 insertions(+)

diff --git a/app/(dashboard)/dashboard/orders/components/order-form.tsx b/app/(dashboard)/dashboard/orders/components/order-form.tsx
index 6d6cecd..0cef369 100644
--- a/app/(dashboard)/dashboard/orders/components/order-form.tsx
+++ b/app/(dashboard)/dashboard/orders/components/order-form.tsx
@@ -35,6 +35,22 @@ import { createAuditLog } from "@/lib/create-audit-log";
 import { AlertCircle, Loader2 } from "lucide-react";
 import { Alert, AlertDescription, AlertTitle } from "@/components/ui/alert";
 
+// 定义状态选项
+const statusOptions = [
+  { value: "DRAFT", label: "草稿" },
+  { value: "CONFIRMED", label: "已确认" },
+  { value: "IN_PRODUCTION", label: "生产中" },
+  { value: "PARTIALLY_SHIPPED", label: "部分发运" },
+  { value: "COMPLETED", label: "已完成" },
+  { value: "CANCELED", label: "已取消" },
+];
+
+// 定义发运方式选项
+const shippingMethodOptions = [
+  { value: "SELF_DELIVERY", label: "自主发运" },
+  { value: "CUSTOMER_PICKUP", label: "客户自提" },
+];
+
 type Customer = {
   id: string;
   name: string;
diff --git a/lib/request-schema.ts b/lib/request-schema.ts
index b8e02b8..b0e8857 100644
--- a/lib/request-schema.ts
+++ b/lib/request-schema.ts
@@ -43,6 +43,11 @@ export const orderBaseSchema = z.object({
   shippingAddress: z.string().optional(),
   paymentTerms: z.string().optional(),
   notes: z.string().optional(),
+  status: z.enum(['DRAFT', 'CONFIRMED', 'IN_PRODUCTION', 'PARTIALLY_SHIPPED', 'COMPLETED', 'CANCELED'], {
+    required_error: '请选择订单状态'
+  }).default('DRAFT'),
+  totalAmount: z.number().optional(),
+  paymentStatus: z.string().optional(),
 });
 
 // 子订单信息Schema
-- 
2.48.1.windows.1

