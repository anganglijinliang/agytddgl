const fs = require('fs');
const path = require('path');

// 一个简单的1x1像素图标的二进制数据
const iconData = Buffer.from([
  0x00, 0x00, 0x01, 0x00, 0x01, 0x00, 0x10, 0x10, 
  0x00, 0x00, 0x01, 0x00, 0x18, 0x00, 0x68, 0x03, 
  0x00, 0x00, 0x16, 0x00, 0x00, 0x00, 0x28, 0x00, 
  0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10, 0x00, 
  0x00, 0x00, 0x01, 0x00, 0x18, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 
  0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00,
  0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00,
  0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00,
  0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00,
  0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00,
  0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00,
  0xFF, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00,
  0xFF, 0x00, 0x00, 0x00
]);

// 确保public目录存在
const publicDir = path.join(__dirname, '../public');
if (!fs.existsSync(publicDir)) {
  fs.mkdirSync(publicDir, { recursive: true });
}

// 写入favicon.ico文件到public目录
fs.writeFileSync(path.join(publicDir, 'favicon.ico'), iconData);

// 同时写入到项目根目录
fs.writeFileSync(path.join(__dirname, '../favicon.ico'), iconData);

console.log('favicon.ico文件已创建在public目录和根目录中'); 